<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>FrameWork Vue</title>
    <script type="text/javascript" src="https://code.jquery.com/jquery-3.1.1.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.1.8/vue.js"></script>
</head>

<body>
    <h2>Primeiro Exemplo com Vue</h2>

    <div id="app">
        <form id="formulario1">
            <h2>Listagem de Jogadores</h2>
            <ul>
                <li><label>{{jogadores[jogadores.length -1].nickname}}</label></li>
                <li><label>{{jogadores[jogadores.length -1].patentes}}</label></li>
                <li><label>{{jogadores[jogadores.length -1].qtd_estrela}}</label></li>
                <li><label>{{jogadores[jogadores.length -1].senha}}</label></li>
                <br>

                <li><label>{{jogadores[jogadores.length -2].nickname}}</label></li>
                <li><label>{{jogadores[jogadores.length -2].patentes}}</label></li>
                <li><label>{{jogadores[jogadores.length -2].qtd_estrela}}</label></li>
                <li><label>{{jogadores[jogadores.length -2].senha}}</label></li>
                <br>
                
                <li><label>{{jogadores[jogadores.length -3].nickname}}</label></li>
                <li><label>{{jogadores[jogadores.length -3].patentes}}</label></li>
                <li><label>{{jogadores[jogadores.length -3].qtd_estrela}}</label></li>
                <li><label>{{jogadores[jogadores.length -3].senha}}</label></li>
            </ul>

            <ul id="example-1">
                <li v-for="j in jogadores" :key="j.nickname">
                    {{ j.nickname }} {{ j.senha }} {{ j.qtd_estrela }}
                </li>
            </ul>



            <ul id="example-2">
                <li v-for="j in jogadores" :key="j.nickname">

                    <p v-if="j.qtd_estrela >= 10" style="color: blue;">
                        {{ j.nickname }} {{ j.senha }} {{ j.qtd_estrela }} {{j.patentes}}
                    </p>
                    <p v-else style="color: red;"> {{ j.nickname }} {{ j.senha }} {{ j.qtd_estrela }} {{j.patentes}}</p>

                </li>
            </ul>

            <h2>Listagem de Partidas</h2>

            <table border="1">
                <tr>
                    <td>Codigo</td>
                    <td>Data</td>
                    <td>Jogador</td>
                    <td>Patentes</td>
                    <td>Quantidade de Estrelas</td>
                </tr>
                <tr v-for="p in partidas" :key="p.codigo">

                    <td> {{p.codigo}} </td>
                    <td> {{p.data}}</td>
                    <td> {{p.jogador.nickname}}</td>
                    <td> {{p.jogador.patentes}}</td>
                    <td> {{p.jogador.qtd_estrela}}</td>
                </tr>

            </table>

        </form>
    </div>
</body>

<script type="text/javascript">

    $(document).ready(function () {

        //alert('Chegou aqui !! ');

        //exercicios 10 jogadores, 5 patentes, 5 partidas
        //vincular patentes com jogadores(jogador deverá ter um jogador)
        //vincular partidas com jogadores(partida devera ter um jogador)

        var Patente = [{ codigo: '1', descricao: 'Ouro' },
        { codigo: '2', descricao: 'Prata' },
        { codigo: '3', descricao: 'Bronze' },
        { codigo: '4', descricao: 'Diamante' },
        { codigo: '5', descricao: 'Campeão' }
        ];

        var Jogadores = [{ nickname: 'joaozinho', qtd_estrela: 5, senha: '123', patentes: [Patente[1]] },
        { nickname: 'ze', qtd_estrela: 12, senha: '456', patentes: [Patente[1], Patente[0]] },
        { nickname: 'bastião', qtd_estrela: 16, senha: '777', patentes: [Patente[1], Patente[3]] },
        { nickname: 'dede', qtd_estrela: 16, senha: '777', patentes: [Patente[1], Patente[2]] },
        { nickname: 'dpaula', qtd_estrela: 14, senha: '018', patentes: [Patente[1], Patente[3]] },
        { nickname: 'niki', qtd_estrela: 20, senha: '021', patentes: [Patente[0]] },
        { nickname: 'guto', qtd_estrela: 11, senha: '234', patentes: [Patente[2]] },
        { nickname: 'edu', qtd_estrela: 10, senha: '582', patentes: [Patente[3]] },
        { nickname: 'nikizinha', qtd_estrela: 18, senha: '483', patentes: [Patente[4], Patente[3]] },
        { nickname: 'eduardo', qtd_estrela: 7, senha: '568', patentes: [Patente[2], Patente[3]] }
        ];
        Jogadores.forEach(function(jogador) {
            jogador.patentes = jogador.patentes.map(p => p.descricao).join(" | ");
        });

        var Partidas = [{
            codigo: 1, data: '28/02/2023',
            jogador: Jogadores[0],
        },
        {
            codigo: 2, data: '10/02/2023',
            jogador: Jogadores[1],
        },
        {
            codigo: 3, data: '26/02/2024',
            jogador: Jogadores[2],
        },
        {
            codigo: 4, data: '14/01/2024',
            jogador: Jogadores[3],
        },
        {
            codigo: 5, data: '15/03/2024',
            jogador: Jogadores[4],
        }
        ];

        var dados = {
            jogadores: Jogadores,
            patentes: Patente,
            partidas: Partidas
        };

        new Vue({
            el: '#app',
            data: dados,
            methods: {

            }
        });

    });

</script>

</html>